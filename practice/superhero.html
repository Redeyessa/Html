<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="random-btn">Random</button>
    <input type="text" id="search" placeholder="search your hero">
    <button id="searchbtn">search</button>
    <div id="details"></div>
    <div id="details1"></div>
</body>
<script>
    // access-token : 10223569763528853
    // url : https://www.superheroapi.com/api.php/
    //https://superheroapi.com/api/access-token/search/name
    const ACCESS_TOKEN = "10223569763528853";
    const URL = `https:www.superheroapi.com/api.php/${ACCESS_TOKEN}`;
    let randomBtnElement = document.getElementById("random-btn");
    let divElement = document.getElementById("details");
    let search = document.getElementById("search");
    let searchbtn = document.getElementById("searchbtn");
    let details1 = document.getElementById("details1")

    randomBtnElement.onclick = () => {
        let rand = getRandom();

        console.log("Radnom :", rand);
        fetch(`${URL}/${rand}`)
            .then((response) => response.json())
            .then((data) => {
                console.log(data)
                    divElement.innerHTML = `<img src='${data.image.url}' width=200 height=200>`
                     let he = JSON.stringify(data.powerstats);
                    details1.innerHTML = `<p>${he}</p>`
            });
       
    };

    const getRandom = () => {
        let count = 731;
        let random = Math.floor(Math.random() * count) + 1;

        return random;
    };

    function gethero(name) {
        fetch(`${URL}/search/${name}`).then((response => response.json())).
            then((data) => {
                // let imageurl = data.results[0].image.url
                console.log(data.results[0].powerstats.combat)
                divElement.innerHTML = `<img src='${data.results[0].image.url}' width=200 height=200>`;
                let he = JSON.stringify(data.results[0].powerstats);
                details1.innerHTML = `<p>${he}</p>`


            })
    }

    searchbtn.onclick = () => {
        let hero = search.value;
        gethero(hero)
    }

</script>

</html>